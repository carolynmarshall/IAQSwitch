{"components":[],"type":"atom","versions":"Beta","units":[{"id":"ts#md^qqeXSEfUT$","createTime":1704492587308,"type":"co2","name":"co2_0","port":"A","default":["A","PAHUB","Custom"],"pb_port":[0,1,2,3,4,5],"new_pb_port":"0","user_port":["21","22"],"icon":"CO2.png","url":"https://docs.m5stack.com/en/unit/co2","new_port":"A","new_default":["A","PAHUB","Custom"]}],"hats":[],"stamps":[],"blockly":"<variables><variable id=\"p!=3EhE%,8-^s@c+]p0a\">co2</variable></variables><block type=\"procedures_defnoreturn\" id=\"1z1q?*rCnr%L]X{;0u]2\" x=\"-530\" y=\"-110\"><field name=\"NAME\">set_color</field><comment pinned=\"false\" h=\"80\" w=\"160\">Sets the colour of the LED based on the CO2 reading.</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\"HBMk3+U6=+$)BY/_#Z!d\"><mutation elseif=\"3\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"0o~w.X!=/}XSk3oYK{k8\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"P[Z?x+TWG#-LN;3G-)u#\"><field name=\"VAR\" id=\"p!=3EhE%,8-^s@c+]p0a\">co2</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"mQ}2Zp1NSX.5@-)ngm_K\"><field name=\"NUM\">500</field></block></value></block></value><statement name=\"DO0\"><block type=\"rgb_set_all\" id=\"kIf!W7;i!cH=oagHn4Ry\"><field name=\"COLOR\">#99ff99</field></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\",)Bi]My}61]M.07eov2T\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"c%~f}[)7}XxaJ}t4WLn)\"><field name=\"VAR\" id=\"p!=3EhE%,8-^s@c+]p0a\">co2</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"*1o+EG2.Dj2azokDw4gu\"><field name=\"NUM\">800</field></block></value></block></value><statement name=\"DO1\"><block type=\"rgb_set_all\" id=\"j[[0`JmUFqz0xY;-_cJF\"><field name=\"COLOR\">#33cc00</field></block></statement><value name=\"IF2\"><block type=\"logic_compare\" id=\"zjTDxlC`2}J9Toa$CEQ~\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"g)QQS.[a=E^1IC4_%%pW\"><field name=\"VAR\" id=\"p!=3EhE%,8-^s@c+]p0a\">co2</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"*raowNW(KrbYox#^MM~W\"><field name=\"NUM\">1000</field></block></value></block></value><statement name=\"DO2\"><block type=\"rgb_set_all\" id=\":J44hiHni]G5s`E{POg8\"><field name=\"COLOR\">#ff9900</field></block></statement><value name=\"IF3\"><block type=\"logic_compare\" id=\"R[3=IOvYwD%}EioinxHU\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"/%v21viB}a-{H:4zLuy3\"><field name=\"VAR\" id=\"p!=3EhE%,8-^s@c+]p0a\">co2</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"4KsksgIzD%BD)aT)/NML\"><field name=\"NUM\">1200</field></block></value></block></value><statement name=\"DO3\"><block type=\"rgb_set_all\" id=\"zmjVl@=@SHokL6Av8S~6\"><field name=\"COLOR\">#ff0000</field></block></statement><statement name=\"ELSE\"><block type=\"rgb_set_all\" id=\"MWy!-w]b#us[{xOwNsWt\"><field name=\"COLOR\">#990000</field></block></statement></block></statement></block><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"-950\" y=\"150\"><next><block type=\"atom_socket_kit_set_relay_state\" id=\"KJX$k$TJ)_D8~c`D)gTO\"><field name=\"state\">0</field><next><block type=\"rgb_set_all\" id=\"P@+tXimx,eKlBp{8*Zu6\"><field name=\"COLOR\">#cc33cc</field><next><block type=\"unit_co2_start_periodic_measurement\" id=\"-5MCaA43a`DpPB!rnyes\"><field name=\"VARNAME\">co2_0</field><next><block type=\"timer_delay\" id=\"Vmus1,CH{Kg8kB%+286F\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"==t(/wIVzdCD/o#w2,q0\"><field name=\"NUM\">5</field></shadow></value><next><block type=\"basic_on_loop\" id=\"mmHHV:HM.mpnNE}njkxu\"><statement name=\"LOOP\"><block type=\"controls_if\" id=\"WaMv^;C|yW9PCsl[saSJ\"><value name=\"IF0\"><block type=\"unit_co2_get_data_ready_status\" id=\"4@kU_sCM%_D%PamQ,Mq.\"><field name=\"VARNAME\">co2_0</field></block></value><statement name=\"DO0\"><block type=\"unit_co2_get_sensor_measurement\" id=\"NI]H067/z81/B34~3%,F\"><field name=\"VARNAME\">co2_0</field><next><block type=\"variables_set\" id=\"i]nQ0Dm^23iYz4ZoI(x^\"><field name=\"VAR\" id=\"p!=3EhE%,8-^s@c+]p0a\">co2</field><value name=\"VALUE\"><block type=\"unit_co2_read_parameter\" id=\"Gx1fe7M.34@wRur@;Hzx\"><field name=\"VARNAME\">co2_0</field><field name=\"param\">co2</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"|hqL-1Vh,Z.*T|IW!/|:\"><mutation name=\"set_color\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"4SLTOvb0eo^D0MwG#g(5\"><mutation name=\"maybe_toggle_switch\"></mutation></block></next></block></next></block></next></block></statement></block></statement></block></next></block></next></block></next></block></next></block></next></block><block type=\"procedures_defnoreturn\" id=\"jQOZX9UrOKG.`^Eut}kG\" x=\"-530\" y=\"290\"><field name=\"NAME\">maybe_toggle_switch</field><comment pinned=\"true\" h=\"80\" w=\"160\">Toggles the relay state.\n</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\"igQZ@E~xJ^@Lmq:J!6p[\"><value name=\"IF0\"><block type=\"atom_socket_kit_wait_update_data\" id=\"Ax~i#,Z]#i.m~%2.a8t3\"></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"zZIPtgX{5D]6{0QG,:DZ\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_operation\" id=\"dw)QgkmpblD#Y2#X/Aaj\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"6=vq@|Nyfix~47L]`*3C\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"5(icKOeRKWGF#^:1MDpp\"><field name=\"VAR\" id=\"p!=3EhE%,8-^s@c+]p0a\">co2</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"wMj:]_~%f$Ddf}k[+4fy\"><field name=\"NUM\">500</field></block></value></block></value><value name=\"B\"><block type=\"atom_socket_kit_relay_status\" id=\"qGr`HFNcTkV5fUH]S5_s\"></block></value></block></value><statement name=\"DO0\"><block type=\"atom_socket_kit_set_relay_state\" id=\")b)OLMi`=Z~OIJ0,/e#n\"><field name=\"state\">0</field></block></statement><value name=\"IF1\"><block type=\"logic_operation\" id=\"cSeh^}2=bV{@OPF~@P21\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"3dhMYUy]Vv2U.f3_~acc\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"variables_get\" id=\"i*:QLF0?91{T@d6*_5=[\"><field name=\"VAR\" id=\"p!=3EhE%,8-^s@c+]p0a\">co2</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"O-4#-JpTYrN=r#EMw_/:\"><field name=\"NUM\">600</field></block></value></block></value><value name=\"B\"><block type=\"logic_negate\" id=\"j~I8nUA*bqJ5jUMGGuZ1\"><value name=\"BOOL\"><block type=\"atom_socket_kit_relay_status\" id=\"^U;52XXN7FPKl/NSQ9)o\"></block></value></block></value></block></value><statement name=\"DO1\"><block type=\"atom_socket_kit_set_relay_state\" id=\"C,C/v^/imK+m{5%:LOT%\"><field name=\"state\">1</field></block></statement></block></statement></block></statement></block><block type=\"logic_operation\" id=\"fC84ExpBX@wKzfiIn]=^\" disabled=\"true\" x=\"-870\" y=\"1050\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"-l^wz`a;y6axjgo*|9!)\" disabled=\"true\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"variables_get\" id=\"oBa=Fx5Lr{SJu.in_s[[\" disabled=\"true\"><field name=\"VAR\" id=\"p!=3EhE%,8-^s@c+]p0a\">co2</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"Rtd/-[O/~%*(bh{|lW[O\" disabled=\"true\"><field name=\"NUM\">600</field></block></value></block></value><value name=\"B\"><block type=\"logic_negate\" id=\"97{J+Z)FRIz=;,P(z!mu\" disabled=\"true\"><value name=\"BOOL\"><block type=\"atom_socket_kit_relay_status\" id=\"$aE0c5;8YztvBj5YC+pq\" disabled=\"true\"></block></value></block></value></block><block type=\"timer_delay\" id=\";Ab(agE7aErK#}6lwqRP\" disabled=\"true\" x=\"-430\" y=\"1030\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"%5Q$F+UXuL~M7nUQe/8N\" disabled=\"true\"><field name=\"NUM\">5</field></shadow></value></block><block type=\"logic_compare\" id=\"G;%$c.pm71!FNilT$%lP\" disabled=\"true\" x=\"110\" y=\"1070\"><field name=\"OP\">EQ</field><value name=\"B\"><block type=\"text\" id=\":nqpsP}U(c~yhZN)-K[+\" disabled=\"true\"><field name=\"TEXT\">ON</field></block></value></block>","Blockly.Remotes":[],"Blockly.RemotePlus":[{"id":"__title","blockId":"","createTime":1704490940508,"name":"M5RemoteTitle","dragAndDrop":false,"resizable":false,"options":{"minWidth":1,"minHeight":1,"maxWidth":6,"maxHeight":10,"defaultWidth":2,"defaultHeight":1},"w":2,"h":1,"bgColor":"#0080FF","color":"#fff","fontsize":"M","label":"M5Remote","interval":3000,"code":"","event":"","dataSource":"none","ezdataToken":"N7Vxy6zGJkjKq0gvfKdssFs7yzv2xtIF","topic":"","needShadow":false,"type":"title","x":null,"y":null}],"modules":["rgb"],"cbIdList_":[],"eventCBIdList_":[],"apikey":"D2C027DC","uuid":"a74cae75-bf64-49c7-98db-d7b53b259221"}